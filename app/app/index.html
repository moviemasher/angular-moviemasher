<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VlogOn - Stealth</title>

    <script src="../bower_components/angular/angular.min.js"></script>


  <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.min.js"></script>
    <script src="../bower_components/angular-resource/angular-resource.min.js"></script>
    <script src="../bower_components/angular-file-upload/dist/angular-file-upload.min.js"></script>
    <script src="../bower_components/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js"></script>
    <script src="../bower_components/opentype.js/dist/opentype.min.js"></script>
    <script src="../bower_components/script.js/dist/script.min.js"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.js"></script>

<script type="text/javascript" src="js/webcam.js"></script>
<script type="text/javascript" src="js/ui.js"></script>
    <script src="../bower_components/moviemasher.js/dist/moviemasher.min.js"></script>
    <script src="../dist/angular-moviemasher.js"></script>

<!--testing-->

<script type="text/javascript">
   

    //we can also set webcam resolution and framerate in the above object.
    //mandatory properties must be satisfied by the getuserMedia otherwise thrown an error.
    //option properties will be satisfied if possible. Error will not be through if not satisfied.
    video_audio_properties = {video: {mandatory: {Width: 1280, Height: 720, minFrameRate: 30}, optional: [{ minFrameRate: 60 }]}, audio: true};

    function onSuccess(stream)
    {
      document.getElementById("video").src = window.URL.createObjectURL(stream);

      //property of video tag.
      document.getElementById("video").play();
    }

    function onError(error)
    {
      console.log("Video capture error: ", error.code);
    }

    //if(navigator.getUserMedia != null)
    //{
      //navigator.getUserMedia(video_audio_properties, onSuccess, onError);
    //}
    //else
    //{
      //alert("microphone and webcam API not supported");
    //}

//video features start save upload save to file

function recordfilming()
{
     document.getElementById('video').classList.toggle('hidden')
      navigator.getUserMedia(video_audio_properties, onSuccess, onError);
console.log ("capture clicked fired!");

}

    function stopfilming()
    {
            video.pause ();
            console.log ("capture paused");

    }

function PostBlob(audioBlob, videoBlob, fileName) {
        var formData = new FormData();
        formData.append('filename', fileName);
        formData.append('audio-blob', audioBlob);
        formData.append('video-blob', videoBlob);
        xhr('save.php', formData, function(ffmpeg_output) {
            document.querySelector('h1').innerHTML = ffmpeg_output.replace(/\\n/g, '<br />');
            preview.src = 'uploads/' + fileName + '-merged.webm';
            preview.play();
            preview.muted = false;
        });
    }





    </script>

        <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"> </script>

    <!--end test-->

    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="../bower_components/angular-bootstrap-colorpicker/css/colorpicker.min.css">
  <link rel="stylesheet" href="app.css" >
    <link rel="stylesheet" href="gsdk.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.min.css" />

 

    <!--<script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>-->






  </head>
  <body ng-app='angular.moviemasher'>






    <div class='amm-ui'></div>

<!--<script src="js/capture.js"></script>-->
<script>
      angular.module('moviemasher', ['ngTagsInput']);
        
          
    </script>

  </body>
</html>
