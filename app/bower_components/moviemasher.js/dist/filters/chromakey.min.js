"use strict";MovieMasher.Filter.register("chromakey",{render:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=a[0];l=c.blend,m=c.similarity,j=c.color,k=j.substr(4,j.length-5).split(","),d={r:k[0],g:k[1],b:k[2]},f=MovieMasher.Colors.rgb2yuv(d);var q=p.canvas.width,r=p.canvas.height;for(o=0;o<3;o++)k[o]=Number(k[o]);for(h=p.context.getImageData(0,0,q,r),i=h.data,g=i.length/4;g--;)n=4*g,e=[MovieMasher.Colors.rgb2yuv(MovieMasher.Filter.rgb_at_index(n,i))],i[n+3]=MovieMasher.Colors.yuv_blend(e,f,m,l);return p.context.putImageData(h,0,0),a},parameters:[{name:"color",value:"color"},{name:"similarity",value:"similarity"},{name:"blend",value:"blend"}]});